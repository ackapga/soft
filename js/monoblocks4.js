const data = [{
        link: "pos_3072.php",
        title: "Кассовый сенсорный монитор 3072, белый",
        desc: "Кассовый сенсорный моноблок 3072 имеет новый компактный дизайн. Сенсорный экран с высокой чувствительностью идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/p4.png",
        price: 163800,
        diagonal: 12.1,
        color: "white",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_3072_black.php",
        title: "Кассовый сенсорный монитор 3072, черный",
        desc: "Кассовый сенсорный моноблок 3072 имеет новый компактный дизайн. Сенсорный экран с высокой чувствительностью идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/3072.png",
        price: 163800,
        diagonal: 12.1,
        color: "black",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t8_white.php",
        title: "Кассовый сенсорный моноблок Т8, белый",
        desc: "Кассовый сенсорный моноблок 15.6-дюймовым диагональю экрана с высокой чувствительностью является главным отличием и достоинством. Модель имеет жесткий диск типа SSD 32 ГБ. Дисплей покупателя имеет возможность показывать клиенту то, что он заказывает.",
        img: "images/24.jpg",
        price: 163800,
        diagonal: 15.6,
        color: "white",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t8.php",
        title: "Кассовый сенсорный моноблок T8, черный",
        desc: "Кассовый сенсорный моноблок 15.6-дюймовым диагональю экрана с высокой чувствительностью является главным отличием и достоинством. Модель имеет жесткий диск типа SSD 32 ГБ. Дисплей покупателя имеет возможность показывать клиенту то, что он заказывает.",
        img: "images/21.png",
        price: 163800,
        diagonal: 15.6,
        color: "black",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t8_white_printer.php",
        title: "Кассовый сенсорный моноблок T8 с принтером чеков, белый",
        desc: "Кассовый сенсорный моноблок 15.6-дюймовым диагональю экрана с высокой чувствительностью и с принтером чеков 58мм является главным отличием и достоинством. Дисплей покупателя имеет возможность показывать клиенту то, что он заказывает.",
        img: "images/t8_white_printer.jpg",
        price: 182700,
        diagonal: 15.6,
        color: "white",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t8_printer.php",
        title: "Кассовый сенсорный моноблок T8 с принтером чеков, черный",
        desc: "Кассовый сенсорный моноблок для кассы 15.6-дюймовым диагональю экрана с высокой чувствительностью и с принтером чеков 58мм является главным отличием и достоинством. Дисплей покупателя имеет возможность показывать клиенту то, что он заказывает.",
        img: "images/t8_black_printer.png",
        price: 182700,
        diagonal: 15.6,
        "color": "black",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_3021_white.php",
        title: "Кассовый сенсорный Моноблок 3021, белый",
        desc: "15-дюймовый кассовый сенсорный моноблок 3021 — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/avatars/3021_white.jpg",
        price: 138600,
        diagonal: 15,
        "color": "white",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_3021_black.php",
        title: "Кассовый сенсорный Моноблок 3021, черный",
        desc: "15-дюймовый кассовый сенсорный моноблок 3021 — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/avatars/3021_black.jpg",
        price: 138600,
        diagonal: 15,
        color: "black",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t8_white_64.php",
        title: "Кассовый сенсорный моноблок T8 Pro, белый",
        desc: "Кассовый сенсорный моноблок 15.6-дюймовым диагональю экрана с высокой чувствительностью является главным отличием и достоинством. Модель имеет жесткий диск типа SSD 64 ГБ. Дисплей покупателя имеет возможность показывать клиенту то, что он заказывает.",
        img: "images/avatars/T8.jpg",
        price: 189000,
        diagonal: 15.6,
        color: "white",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t8_64.php",
        title: "Кассовый сенсорный моноблок T8 Pro, черный",
        desc: "Кассовый сенсорный монитор для кассы 15.6-дюймовым диагональю экрана с высокой чувствительностью является главным отличием и достоинством. Модель имеет жесткий диск типа SSD 64 ГБ. Дисплей покупателя имеет возможность показывать клиенту то, что он заказывает.",
        img: "images/avatars/T8_PRO.jpg",
        price: 189000,
        diagonal: 15.6,
        color: "black",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_3021_white_pro.php",
        title: "Кассовый сенсорный Моноблок 3021 PRO, белый",
        desc: "15-дюймовый кассовый сенсорный моноблок 3021 — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/3021_white/pro_logo.jpg",
        price: 154980,
        diagonal: 15,
        color: "white",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_3021_pro_black.php",
        title: "Кассовый сенсорный Моноблок 3021 PRO, черный",
        desc: "15-дюймовый кассовый сенсорный моноблок 3021 — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/3021_black/pro_logo.jpg",
        price: 154980,
        diagonal: 15,
        color: "black",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_3068.php",
        title: "Кассовый сенсорный Моноблок 3068",
        desc: "Кассовый сенсорный моноблок 3068 отличается от других моноблоков с размером дисплея. Диогональ экрана состовляет 17 дюймов. Модель имеет жесткий диск типа SSD 32 ГБ. Идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/3068/3068.jpg",
        price: 163800,
        diagonal: 17,
        color: "black",
        ram: 4,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t6.php",
        title: "Кассовый сенсорный моноблок T6",
        desc: "15,6-дюймовая кассовый сенсорный моноблок Touch Touch LVDS с высокой чувствительностью и широким экраном отвечает всем современным требованиям. Модель имеет превосходный дизайн. А также имеет дисплей для клиента с двумя линиями.",
        img: "images/p2.png",
        price: 205380,
        diagonal: 15.6,
        color: "black",
        ram: 4,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_3068_pro.php",
        title: "Кассовый сенсорный Моноблок 3068 PRO",
        desc: "Кассовый сенсорный моноблок 3068 PRO отличается от других моноблоков с размером дисплея. Диогональ экрана состовляет 17 дюймов. Модель имеет жесткий диск типа SSD 64 ГБ. Идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/3068/3068_pro.jpg",
        price: 176400,
        diagonal: 17,
        color: "black",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_t3.php",
        title: "Кассовый сенсорный моноблок T3",
        desc: "Кассовый сенсорный моноблок 15-дюймовым диагональю экрана с высокой чувствительностью и с модной экранной панелью на спине является главным отличием и достоинством. Экранная панель имеет возможность показывать клиенту, что он заказывает.",
        img: "images/p3.png",
        price: 205000,
        diagonal: 15,
        color: "black",
        ram: 4,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_1701.php",
        title: "Кассовый сенсорный Моноблок 1701",
        desc: "15-дюймовый кассовый сенсорный моноблок 1701 — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/1701/ava.png",
        price: 130000,
        diagonal: 15,
        color: "black",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_1701_pro.php",
        title: "Кассовый сенсорный Моноблок 1701 PRO",
        desc: "15-дюймовый кассовый сенсорный моноблок 1701 PRO — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/1701/pro.png",
        price: 156090,
        diagonal: 15,
        color: "black",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_1702.php",
        title: "Кассовый сенсорный Моноблок 1702",
        desc: "15-дюймовый кассовый сенсорный моноблок 1702 — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/1702/ava.png",
        price: 130000,
        diagonal: 15,
        color: "white",
        ram: 2,
        ssd: 34,
        clientDisplay: true,
        displayType: "capacitive"
    }, {
        link: "pos_1702_pro.php",
        title: "Кассовый сенсорный Моноблок 1702 PRO",
        desc: "15-дюймовый кассовый сенсорный моноблок 1702 PRO — это коммерческое решение для предприятий любого масштаба, работающих в сфере торговли, в ресторанном и гостиничном бизнесе. Служат долго и идеально справляются с задачами автоматизации обслуживания клиентов. Поддерживает все виды периферийных устройств. Имеет конструкцию без вентилятора, что обеспечивает низкий уровень шума.",
        img: "images/1702/pro.png",
        price: 156090,
        diagonal: 15,
        color: "white",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    }, {
        link: "pos_1905.php",
        title: "Кассовый сенсорный Моноблок 1905",
        desc: "Кассовый сенсорный монитор 1905 белый имеет новый компактный дизайн, кассовый сенсорный монитор с высокой чувствительностью. Идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/1905/ava.png",
        price: 130000,
        diagonal: 15,
        color: "white",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "capacitive"
    },
    {
        link: "pos_1905_pro.php",
        title: "Кассовый сенсорный Моноблок 1905 PRO",
        desc: "Кассовый сенсорный монитор 1905 PRO белый имеет новый компактный дизайн, кассовый сенсорный монитор с высокой чувствительностью. Идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/1905/logo.png",
        price: 162540,
        diagonal: 15,
        color: "white",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "capacitive"
    }, {
        link: "pos_r10.php",
        title: "Кассовый сенсорный Моноблок R10",
        desc: "Кассовый сенсорный монитор R10 белый имеет новый компактный дизайн, кассовый сенсорный монитор с высокой чувствительностью. Идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/r10/avaa.png",
        price: 130000,
        diagonal: 15,
        color: "black",
        ram: 2,
        ssd: 32,
        clientDisplay: true,
        displayType: "resistive"
    },
    {
        link: "pos_r10_pro.php",
        title: "Кассовый сенсорный Моноблок R10 PRO",
        desc: "Кассовый сенсорный монитор R10 PRO белый имеет новый компактный дизайн, кассовый сенсорный монитор с высокой чувствительностью. Идеально подойдет для автоматизации любой торговли: супермаркетов, магазинов, кафе или же аптек.",
        img: "images/r10/pro.png",
        price: 148450,
        diagonal: 15,
        color: "black",
        ram: 4,
        ssd: 64,
        clientDisplay: true,
        displayType: "resistive"
    },
]
document.head.innerHTML += `
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js"></script>
`

const monoblocks = document.getElementById('monoblocks');

const priceSort = document.getElementById('priceSort');

let priceSortedArray = data.sort(function(a, b) {
    let x = a.price;
    let y = b.price;

    return x - y;
});
let initialArray = priceSortedArray;

let initStage = true;

priceSort.addEventListener("change", function() {
    if (priceSort.value == "first") {
        priceSortedArray = data.sort(function(a, b) {
            let x = a.price;
            let y = b.price;

            return x - y;
        });

    } else if (priceSort.value == "second") {
        priceSortedArray = data.sort(function(a, b) {
            let x = a.price;
            let y = b.price;

            return y - x;
        });
    }

    initialArray = priceSortedArray;
    filterArray();
});




function displayList(array) {
    monoblocks.innerHTML = "";
    let video = document.createElement('div');
    // <p>Звоните прямо сейчас: <br><a href="tel:87273449900">8(727)<span> 344-99-00</span></a>; <a href="tel:+77012667700"><b>+7 701 266-77-00</b></a></p>
    video.innerHTML = `
        <div class="video1"><iframe width="780" height="439" src="https://www.youtube.com/embed/jpDM-Ybi5DE?rel=0&autoplay=0" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
        `;

    array.map((a) => {
        let item = document.createElement('div');
        item.classList.add("main");
        var formatter = function(priceSum) {
            let mn = 0;
            let price = priceSum.toString()
            for (let ij = price.length; ij > 0; ij--) {
                if (mn % 3 == 0) {
                    price = [price.slice(0, ij), " ", price.slice(ij)].join('');
                }
                mn++;
            }
            return price;
        }

        item.innerHTML = `
    <a href="${a.link}">
        <div class="col-md-3">
            <img src="${a.img}">
        </div>
        <div class="col-md-7">
            <div class="nazvanie">
                <p>${a.title}</p>
            </div>
            <p>${a.desc}</p>
        </div>
    </a>
        <div class="col-md-2">
            <p><span class="item-price-indicator_second">Цена:<br> </span><span class="item_price_second">${formatter(a.price)} тг </span></p>
            <a class="hvr-outline-out button2" href="${a.link}">Перейти</a>
        </div>

`;
        monoblocks.appendChild(item);

    })

}

function showInitialStage() {
    displayList(initialArray);
    let params = countParam(initialArray);
    showParamCounters(params)
}


showInitialStage();

let filterParam = {
    color: [],
    ram: [],
    ssd: [],
    diagonal: [],
    displayType: []
}

function filterArray() {
    let updatedArray = initialArray.filter(function(a) {
            if (filterParam.color.length !== 0) {
                for (let i = 0; i < filterParam.color.length; i++) {
                    if (a.color === filterParam.color[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })
        .filter(function(a) {
            if (filterParam.ram.length !== 0) {
                for (let i = 0; i < filterParam.ram.length; i++) {
                    if (a.ram === filterParam.ram[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })
        .filter(function(a) {
            if (filterParam.ssd.length !== 0) {
                for (let i = 0; i < filterParam.ssd.length; i++) {
                    if (a.ssd === filterParam.ssd[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        }).filter(function(a) {
            if (filterParam.diagonal.length !== 0) {
                for (let i = 0; i < filterParam.diagonal.length; i++) {
                    if (a.diagonal === filterParam.diagonal[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        }).filter(function(a) {
            if (filterParam.displayType.length !== 0) {
                for (let i = 0; i < filterParam.displayType.length; i++) {
                    if (a.displayType === filterParam.displayType[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })


    let params = countParam(updatedArray);
    showParamCounters(params)
        // console.log(params);


    if (updatedArray.length !== 0) {
        displayList(updatedArray)
        addFilterOption(filterOptionArray)
    } else {
        clickArr[clickArr.length - 1].checked = false;
        clickArr.pop()
        filterOptionArray.pop()
        errorMsg()
            // console.log(clickArr);
            // console.log(filterOptionArray)
        updateFilterParam()
    }

    // console.log(filterParam);
}

let clickArr = []
let filterOptionArray = []
let btnArray = []

const whiteBtn = document.getElementById('whiteBtn');
const blackBtn = document.getElementById('blackBtn');
const firstRam = document.getElementById('firstRam');
const secondRam = document.getElementById('secondRam');
const firstSsd = document.getElementById('firstSsd');
const secondSsd = document.getElementById('secondSsd');
const firstInch = document.getElementById('firstInch');
const secondInch = document.getElementById('secondInch');
const thirdInch = document.getElementById('thirdInch');
const fourthInch = document.getElementById('fourthInch');
const displayType1 = document.getElementById('displayType1');
const displayType2 = document.getElementById('displayType2');


function updateFilterParam() {
    filterParam.color = [];

    if (whiteBtn.checked === true) {
        filterParam.color.push('white');
    }

    if (blackBtn.checked === true) {
        filterParam.color.push('black');
    }

    filterParam.ram = [];

    if (firstRam.checked === true) {
        filterParam.ram.push(2);
    }

    if (secondRam.checked === true) {
        filterParam.ram.push(4);
    }

    filterParam.ssd = [];

    if (firstSsd.checked === true) {
        filterParam.ssd.push(32);
    }

    if (secondSsd.checked === true) {
        filterParam.ssd.push(64);
    }

    filterParam.diagonal = [];
    if (firstInch.checked === true) {
        filterParam.diagonal.push(12.1);
    }

    if (secondInch.checked === true) {
        filterParam.diagonal.push(15);
    }

    if (thirdInch.checked === true) {
        filterParam.diagonal.push(15.6);
    }

    if (fourthInch.checked === true) {
        filterParam.diagonal.push(17);
    }

    filterParam.displayType = [];

    if (displayType1.checked === true) {
        filterParam.displayType.push('capacitive');
    }

    if (displayType2.checked === true) {
        filterParam.displayType.push('resistive');
    }

    filterArray()
}

function spliceMethod(value) {
    const idx = clickArr.indexOf(value);
    if (idx > -1) {
        clickArr.splice(idx, 1);
    }
}

function spliceMethodSecond(value) {
    const idx = filterOptionArray.indexOf(value);
    if (idx > -1) {
        filterOptionArray.splice(idx, 1);
    }
}

function whiteBtnClick() {
    if (whiteBtn.checked == true) {
        filterOptionArray.push('белый')
        clickArr.push(whiteBtn)
        arrCounter = true;
    } else {
        spliceMethod(whiteBtn);
        spliceMethodSecond('белый')
        arrCounter = false;
    }
    updateFilterParam()
}

function blackBtnClick() {
    if (blackBtn.checked == true) {
        filterOptionArray.push('черный')
        clickArr.push(blackBtn)
        arrCounter = true;
    } else {
        spliceMethod(blackBtn);
        spliceMethodSecond('черный')
        arrCounter = false;
    }
    updateFilterParam()
}


function firstRamClick() {
    if (firstRam.checked == true) {
        filterOptionArray.push('2ГБ')
        clickArr.push(firstRam)
        arrCounter = true;
    } else {
        spliceMethod(firstRam);
        spliceMethodSecond('2ГБ')
        arrCounter = false;
    }
    updateFilterParam()
}

function secondRamClick() {
    if (secondRam.checked == true) {
        filterOptionArray.push('4ГБ')
        clickArr.push(secondRam)
        arrCounter = true;
    } else {
        spliceMethod(secondRam);
        spliceMethodSecond('4ГБ')
        arrCounter = false;
    }
    updateFilterParam()
}

function firstSsdClick() {
    if (firstSsd.checked == true) {
        filterOptionArray.push('32ГБ')
        clickArr.push(firstSsd)
        arrCounter = true;
    } else {
        spliceMethod(firstSsd);
        spliceMethodSecond('32ГБ')
        arrCounter = false;
    }
    updateFilterParam()
}

function secondSsdClick() {
    if (secondSsd.checked == true) {
        filterOptionArray.push('64ГБ')
        clickArr.push(secondSsd)
        arrCounter = true;
    } else {
        spliceMethod(secondSsd);
        spliceMethodSecond('64ГБ')
        arrCounter = false;
    }
    updateFilterParam()
}




//// 

function firstInchClick() {
    if (firstInch.checked == true) {
        filterOptionArray.push(`12.1"`)
        clickArr.push(firstInch)
        arrCounter = true;
    } else {
        spliceMethod(firstInch);
        spliceMethodSecond(`12.1"`)
        arrCounter = false;
    }
    updateFilterParam()
}

function secondInchClick() {
    if (secondInch.checked == true) {
        filterOptionArray.push(`15"`)
        clickArr.push(secondInch)
        arrCounter = true;
    } else {
        spliceMethod(secondInch);
        spliceMethodSecond(`15"`)
        arrCounter = false;
    }
    updateFilterParam()
}

function thirdInchClick() {
    if (thirdInch.checked == true) {
        filterOptionArray.push(`15.6"`)
        clickArr.push(thirdInch)
        arrCounter = true;
    } else {
        spliceMethod(thirdInch);
        spliceMethodSecond(`15.6"`)
        arrCounter = false;
    }
    updateFilterParam()
}

function fourthInchClick() {
    if (fourthInch.checked == true) {
        filterOptionArray.push(`17"`)
        clickArr.push(fourthInch)
        arrCounter = true;
    } else {
        spliceMethod(fourthInch);
        spliceMethodSecond(`17"`)
        arrCounter = false;
    }
    updateFilterParam()
}

function displayType1Click() {
    if (displayType1.checked == true) {
        filterOptionArray.push(`Емкостный`)
        clickArr.push(displayType1)
        arrCounter = true;
    } else {
        spliceMethod(displayType1);
        spliceMethodSecond(`Емкостный`)
        arrCounter = false;
    }
    updateFilterParam()
}

function displayType2Click() {
    if (displayType2.checked == true) {
        filterOptionArray.push(`Резистивный`)
        clickArr.push(displayType2)
        arrCounter = true;
    } else {
        spliceMethod(displayType2);
        spliceMethodSecond(`Резистивный`)
        arrCounter = false;
    }
    updateFilterParam()
}



whiteBtn.addEventListener('click', whiteBtnClick)
blackBtn.addEventListener('click', blackBtnClick)
firstRam.addEventListener('click', firstRamClick)
secondRam.addEventListener('click', secondRamClick)
firstSsd.addEventListener('click', firstSsdClick)
secondSsd.addEventListener('click', secondSsdClick)
firstInch.addEventListener('click', firstInchClick)
secondInch.addEventListener('click', secondInchClick)
thirdInch.addEventListener('click', thirdInchClick)
fourthInch.addEventListener('click', fourthInchClick)
displayType1.addEventListener('click', displayType1Click)
displayType2.addEventListener('click', displayType2Click)



let checkBoxArr = []
    // settings関数で初期設定 全体に適応させたい場合
iziToast.settings({
    timeout: 3000, // default timeout
    resetOnHover: true,
    // icon: '', // icon class
    transitionIn: 'flipInX',
    transitionOut: 'flipOutX',
    position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center
    onOpen: function() {
        // console.log('callback abriu!');
    },
    onClose: function() {
        // console.log("callback fechou!");
    }
});


// error
function errorMsg() {
    iziToast.warning({ title: '', message: 'По таким параметрам продуктов не найдено' });
}


const filter = document.getElementById("filter");
let arrCounter = true;

function addFilterOption(arr) {
    let index = 0;
    filter.innerHTML = "";
    arr.map(a => {
        let filterOption = document.createElement('div');
        filterOption.setAttribute("data-id", index)
        filterOption.id = "filterOption"
        filterOption.classList.add('filter-option')
        if (arrCounter == true) {
            filterOption.classList.add('filter-animation')
        }
        if (index > 0) {
            document.querySelector(`[data-id="${index - 1}"]`).classList.remove('filter-animation');
        }
        filterOption.innerHTML = `
    <span class="filter-option-value" data-id="${index}">${a} 
        <svg xmlns="https://www.w3.org/2000/svg" style="
        pointer-events: none;
        margin-left: 8.5px;" data-id="${index} width="10px" height="10px" viewBox="0 0 7 7" id="filterOptionSvg" fill="none">
            <path data-id="${index} id="filterOptionPath" fill-rule="evenodd" clip-rule="evenodd" d="M4.00199 4.7091L6.64844 7.35554L7.35554 6.64844L4.7091 4.00199L7.35554 1.35554L6.64844 0.648438L4.00199 3.29488L1.35554 0.648438L0.648438 1.35554L3.29488 4.00199L0.648438 6.64844L1.35554 7.35554L4.00199 4.7091Z" fill="#C4C4C4"></path>
        </svg>
    </span>
    `;
        filter.appendChild(filterOption);
        index++;
    })
}

let filterOption = document.querySelector(".filter-option");

document.addEventListener(
    "click",
    function(e) {
        e = e || window.event;
        let target = e.srcElement;
        if (
            target.id === "filterOption" ||
            target.parentNode.id === "filterOption"
        ) {
            arrCounter = false;
            // console.log(filterOptionArray);
            let selectedId = parseInt(target.getAttribute('data-id'), 10);
            removeFilterElement(selectedId)
                // console.log(filterOptionArray);

        }
    },
    false
);



function removeFilterElement(value) {
    filterOptionArray.splice(value, 1);
    clickArr[value].checked = false;
    clickArr.splice(value, 1)
    updateFilterParam();
}

let whiteCounter = 0;
let blackCounter = 0;

function countParam(array) {
    let whiteCount = 0;
    let blackCount = 0;
    let ram1 = 0;
    let ram2 = 0;
    let ssd1 = 0;
    let ssd2 = 0;
    let inch1 = 0;
    let inch2 = 0;
    let inch3 = 0;
    let inch4 = 0;
    let dType1 = 0;
    let dType2 = 0;
    for (let index = 0; index < array.length; index++) {
        if (array[index].color == "white") {
            whiteCount++;
        } else if (array[index].color == "black") {
            blackCount++;
        }
        if (array[index].ram == 2) {
            ram1++;
        } else if (array[index].ram == 4) {
            ram2++;
        }
        if (array[index].ssd == 32) {
            ssd1++;
        } else if (array[index].ssd == 64) {
            ssd2++;
        }

        if (array[index].diagonal == 12.1) {
            inch1++;
        } else if (array[index].diagonal == 15) {
            inch2++;
        } else if (array[index].diagonal == 15.6) {
            inch3++;
        } else if (array[index].diagonal == 17) {
            inch4++;
        }

        if (array[index].displayType == "capacitive") {
            dType1++;
        } else if (array[index].displayType == "resistive") {
            dType2++;
        }
    }

    return [whiteCount, blackCount, ram1, ram2, ssd1, ssd2, inch1, inch2, inch3, inch4, dType1, dType2]

}

function showParamCounters(array) {
    for (let index = 0; index < array.length; index++) {
        document.getElementById(`${index+1}param`).innerHTML = array[index]
    }
}

let scrollHeight = document.querySelector(".header-bot").clientHeight + document.querySelector(".navbar-header").clientHeight + document.querySelector(".page-head_agile_info_w3l").clientHeight


setTimeout(function() {
    $('body,html').animate({ scrollTop: scrollHeight }, 800);
    displayType1.click()
}, 200)